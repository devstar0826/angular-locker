/*! angular-locker v0.1.0 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(){"use strict";angular.module("angular-locker",[]).provider("locker",function(){var t=localStorage,r=".",e="locker",n=""===e?"":e+r,i=function(r,e){if("string"!=typeof e)try{e=JSON.stringify(e)}catch(i){return}try{t[n+r]=e}catch(i){"QUOTA_EXCEEDED_ERR"===i.name||"NS_ERROR_DOM_QUOTA_REACHED"===i.name||"QuotaExceededError"===i.name}},o=function(t){try{return JSON.parse(t)}catch(r){return t}},u=function(r){return t[n+r]?(delete t[n+r],!0):void 0},a=function(r){return t="session"===r?sessionStorage:localStorage,this},c=function(){return t===localStorage?"local":"session"},s=function(t){return e=t,this},f=function(){return e};return{setStorageDriver:a,getStorageDriver:c,setNamespace:s,getNamespace:f,$get:function(){return{put:function(t,r){if("function"==typeof r&&(r=r()),angular.isObject(t))for(var e in t)i(e,t[e]);else{if(!t||!r)return!1;i(t,r)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(r,e){var i=t[n+r];return i?o(i):e||void 0},has:function(r){return t.hasOwnProperty(n+r)},pull:function(t,r){var e=this.get(t,r);return this.remove(t),e},remove:function(t){return angular.isArray(t)?t.forEach(function(t){u(t)}):u(t),this},clean:function(r){r&&this.setNamespace(r);for(var e in t)u(e);return this},empty:function(){return t.clear(),this},setStorageDriver:a,setNamespace:s}}}})}();