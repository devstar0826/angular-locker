/*! angular-locker v0.1.0 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(){"use strict";angular.module("angular-locker",[]).provider("locker",function(){var r=localStorage,t=".",e="locker",n=""===e?"":e+t,a=function(t,e){if("string"!=typeof e)try{e=JSON.stringify(e)}catch(a){return}try{r[n+t]=e}catch(a){"QUOTA_EXCEEDED_ERR"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name||"QuotaExceededError"===a.name}},i=function(r){try{return JSON.parse(r)}catch(t){return r}},o=function(t){return r[n+t]?(delete r[n+t],!0):void 0},u=function(t){return r="session"===t?sessionStorage:localStorage,this},c=function(){return r===localStorage?"local":"session"},s=function(r){return e=r,this},f=function(){return e};return{setStorageDriver:u,getStorageDriver:c,setNamespace:s,getNamespace:f,$get:function(){return{put:function(r,t){if(angular.isObject(r))for(var e in r)a(e,r[e]);else{if(!r||!t)return!1;a(r,t)}return this},add:function(r,t){return this.has(r)?!1:(this.put(r,t),!0)},get:function(t,e){var a=r[n+t];return a?i(a):e||void 0},has:function(t){return r.hasOwnProperty(n+t)},remove:function(r){return angular.isArray(r)?r.forEach(function(r){o(r)}):o(r),this},clean:function(t){t&&this.setNamespace(t);for(var e in r)o(e);return this},empty:function(){return r.clear(),this},setStorageDriver:u,setNamespace:s}}}})}();