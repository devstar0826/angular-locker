/*! angular-locker v0.6.2 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t,r){"use strict";r.module("angular-locker",[]).provider("locker",function(){var e=t.localStorage,n="locker",o=".",u=""===n?"":n+o,a=function(){var t="t";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(r){return!1}},i=function(t,r){r=c(r);try{e.setItem(u+t,r)}catch(n){-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(n.name)?console.warn("angular-locker - Your browser storage quota has been exceeded"):console.warn('angular-locker - Could not add item with key "'+t+'"',n)}},c=function(t){try{return r.toJson(t)}catch(e){return t}},s=function(t){try{return r.fromJson(t)}catch(e){return t}},f=function(t){return"function"==typeof t?t():t},l=function(t){return t=f(t),e.hasOwnProperty(u+t)},h=function(t){return l(t)?(e.removeItem(u+t),!0):!1},g=function(r){return r=f(r),e="session"===r?t.sessionStorage:t.localStorage,this},m=function(){return e===t.localStorage?"local":"session"},v=function(t){return n=f(t),u=""===n?"":n+o,this},d=function(){return n};return{setDefaultDriver:g,setStorageDriver:g,getDefaultDriver:m,setDefaultNamespace:v,setNamespace:v,getDefaultNamespace:d,$get:function(){return{put:function(t,e){if(!t)return!1;if(t=f(t),r.isObject(t))r.forEach(t,function(t,r){i(r,t)});else{if(!e)return!1;e=f(e),i(t,e)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(t,n){if(!r.isArray(t))return this.has(t)?s(e.getItem(u+t)):2===arguments.length?n:void 0;var o={};return r.forEach(t,function(t){this.has(t)&&(o[t]=this.get(t))},this),o},has:l,pull:function(t,r){var e=this.get(t,r);return this.remove(t),e},all:function(){var t={};return r.forEach(e,function(r,e){var u=e.split(o);u.length>1&&u[0]===n&&(u.splice(0,1),e=u.join(o)),this.has(e)&&(t[e]=this.get(e))},this),t},remove:function(t){return t=f(t),r.isArray(t)?r.forEach(t,function(t){h(t)}):h(t),this},clean:function(){return r.forEach(e,function(t,r){h(r)}),this},empty:function(){return e.clear(),this},count:function(){var t,r=this.all(),e=0;for(t in r)r.hasOwnProperty(t)&&e++;return e},driver:g,setStorageDriver:g,namespace:v,setNamespace:v,supported:a}}}})}(window,window.angular);