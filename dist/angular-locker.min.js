/*! angular-locker v0.6.3 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t,r){"use strict";r.module("angular-locker",[]).provider("locker",function(){var n=t.localStorage,e="locker",o=".",u=""===e?"":e+o,i=function(){var t="t";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(r){return!1}},a=function(t){try{return r.toJson(t)}catch(n){return t}},c=function(t){try{return r.fromJson(t)}catch(n){return t}},s=function(t){return"function"==typeof t?t():t},f=function(t,r){r=a(r);try{n.setItem(u+t,r)}catch(e){-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(e.name)?console.warn("angular-locker - Your browser storage quota has been exceeded"):console.warn('angular-locker - Could not add item with key "'+t+'"',e)}},l=function(t){return n.hasOwnProperty(u+s(t))},h=function(t){return l(t)?(n.removeItem(u+t),!0):!1},g=function(r){return n="session"===s(r)?t.sessionStorage:t.localStorage,this},m=function(){return n===t.localStorage?"local":"session"},d=function(t){return e=s(t),u=""===e?"":e+o,this},v=function(){return e};return{setDefaultDriver:g,getDefaultDriver:m,setDefaultNamespace:d,getDefaultNamespace:v,$get:function(){return{put:function(t,n){if(!t)return!1;if(t=s(t),r.isObject(t))r.forEach(t,function(t,r){f(r,t)});else{if(!n)return!1;n=s(n),f(t,n)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(t,e){if(!r.isArray(t))return this.has(t)?c(n.getItem(u+t)):2===arguments.length?e:void 0;var o={};return r.forEach(t,function(t){this.has(t)&&(o[t]=this.get(t))},this),o},has:l,pull:function(t,r){var n=this.get(t,r);return this.remove(t),n},all:function(){var t={};return r.forEach(n,function(r,n){var u=n.split(o);u.length>1&&u[0]===e&&(u.splice(0,1),n=u.join(o)),this.has(n)&&(t[n]=this.get(n))},this),t},remove:function(t){return t=s(t),r.isArray(t)?r.forEach(t,function(t){h(t)}):h(t),this},clean:function(){return r.forEach(n,function(t,r){h(r)}),this},empty:function(){return n.clear(),this},count:function(){var t,r=this.all(),n=0;for(t in r)r.hasOwnProperty(t)&&n++;return n},driver:g,namespace:d,supported:i}}}})}(window,window.angular);