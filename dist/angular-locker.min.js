/*! angular-locker v0.2.1 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t){"use strict";t.module("angular-locker",[]).provider("locker",function(){var r=localStorage,e=".",n="locker",i=""===n?"":n+e,o=function(t,e){if("string"!=typeof e)try{e=JSON.stringify(e)}catch(n){return}try{r[i+t]=e}catch(n){"QUOTA_EXCEEDED_ERR"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name||"QuotaExceededError"===n.name}},u=function(t){try{return JSON.parse(t)}catch(r){return t}},a=function(t){return r[i+t]?(delete r[i+t],!0):void 0},c=function(t){return r="session"===t?sessionStorage:localStorage,this},s=function(){return r===localStorage?"local":"session"},f=function(t){return n=t,i=""===n?"":n+e,this},l=function(){return n};return{setStorageDriver:c,getStorageDriver:s,setNamespace:f,getNamespace:l,$get:function(){return{put:function(r,e){if(!r)return!1;if(t.isObject(r))for(var n in r)o(n,r[n]);else{if(!e)return!1;"function"==typeof e&&(e=e()),o(r,e)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(t,e){return this.has(t)?u(r[i+t]):e||void 0},has:function(t){return r.hasOwnProperty(i+t)},pull:function(t,r){var e=this.get(t,r);return this.remove(t),e},all:function(){var t={};for(var e in r){var i=e.split(".");i.length>1&&i[0]===n&&(i.splice(0,1),e=i.join("")),this.get(e)&&(t[e]=this.get(e))}return t},remove:function(r){return t.isArray(r)?r.forEach(function(t){a(t)}):a(r),this},clean:function(){for(var t in r)a(t);return this},empty:function(){return r.clear(),this},setStorageDriver:c,setNamespace:f}}}})}(window.angular);