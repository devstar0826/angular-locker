/*! angular-locker v0.1.1 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t){"use strict";t.module("angular-locker",[]).provider("locker",function(){var t=localStorage,r=".",e="locker",n=""===e?"":e+r,i=function(r,e){if("string"!=typeof e)try{e=JSON.stringify(e)}catch(i){return}try{t[n+r]=e}catch(i){"QUOTA_EXCEEDED_ERR"===i.name||"NS_ERROR_DOM_QUOTA_REACHED"===i.name||"QuotaExceededError"===i.name}},o=function(t){try{return JSON.parse(t)}catch(r){return t}},a=function(r){return t[n+r]?(delete t[n+r],!0):void 0},u=function(r){return t="session"===r?sessionStorage:localStorage,this},s=function(){return t===localStorage?"local":"session"},c=function(t){return e=t,n=""===e?"":e+r,this},f=function(){return e};return{setStorageDriver:u,getStorageDriver:s,setNamespace:c,getNamespace:f,$get:function(){return{put:function(t,r){if(!t)return!1;if(angular.isObject(t))for(var e in t)i(e,t[e]);else{if(!r)return!1;"function"==typeof r&&(r=r()),i(t,r)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(r,e){return this.has(r)?o(t[n+r]):e||void 0},has:function(r){return t.hasOwnProperty(n+r)},pull:function(t,r){var e=this.get(t,r);return this.remove(t),e},all:function(){var r={};for(var n in t){var i=n.split(".");i.length>1&&i[0]===e&&(i.splice(0,1),n=i.join("")),this.get(n)&&(r[n]=this.get(n))}return r},remove:function(t){return angular.isArray(t)?t.forEach(function(t){a(t)}):a(t),this},clean:function(r){r&&this.setNamespace(r);for(var e in t)a(e);return this},empty:function(){return t.clear(),this},setStorageDriver:u,setNamespace:c}}}})}(window.angular);