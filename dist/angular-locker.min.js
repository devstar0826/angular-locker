/*! angular-locker v0.2.3 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t){"use strict";t.module("angular-locker",[]).provider("locker",function(){var r=localStorage,n=".",e="locker",i=""===e?"":e+n,o=function(t,n){"string"!=typeof n&&(n=u(n));try{r[i+t]=n}catch(e){"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name}},u=function(t){try{return JSON.stringify(t)}catch(r){return t}},a=function(t){try{return JSON.parse(t)}catch(r){return t}},c=function(t){return r.hasOwnProperty(i+t)},s=function(t){return"function"==typeof t?t():t},f=function(t){return c(t)?(delete r[i+t],!0):!1},l=function(t){return t=s(t),r="session"===t?sessionStorage:localStorage,this},h=function(){return r===localStorage?"local":"session"},g=function(t){return e=s(t),i=""===e?"":e+n,this},p=function(){return e};return{setStorageDriver:l,getStorageDriver:h,setNamespace:g,getNamespace:p,$get:function(){return{put:function(r,n){if(!r)return!1;if(t.isObject(r))for(var e in r)o(e,r[e]);else{if(!n)return!1;n=s(n),o(r,n)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(t,n){return this.has(t)?a(r[i+t]):n||void 0},has:c,pull:function(t,r){var n=this.get(t,r);return this.remove(t),n},all:function(){var t={};for(var n in r){var i=n.split(".");i.length>1&&i[0]===e&&(i.splice(0,1),n=i.join("")),this.get(n)&&(t[n]=this.get(n))}return t},remove:function(r){return t.isArray(r)?r.forEach(function(t){f(t)}):f(r),this},clean:function(){for(var t in r)f(t);return this},empty:function(){return r.clear(),this},setStorageDriver:l,setNamespace:g}}}})}(window.angular);